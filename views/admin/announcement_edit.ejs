<h1 class="mb-4 display-6 fw-bold">
  <i class="fas fa-edit me-2 text-info"></i> Duyuru Düzenle
</h1>
<p class="lead text-muted">
  Mevcut duyurunun başlığını, içeriğini ve yayın durumunu güncelleyin.
</p>

<hr />

<div class="row justify-content-center">
  <div class="col-lg-8">
    <% if (typeof error !== 'undefined' && error) { %>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <i class="fas fa-exclamation-triangle me-2"></i>
      <strong>Hata!</strong> <%= error %>
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Kapat"
      ></button>
    </div>
    <% } %>

    <form
      action="/admin/announcements/edit/<%= announcement.id %>"
      method="POST"
      class="card shadow-lg p-4"
    >
      <input type="hidden" name="_csrf" value="<%= csrfToken %>" />

      <div class="alert alert-info py-2 mb-4">
        Duyuru ID: <strong>#<%= announcement.id %></strong> | Oluşturulma: <%=
        new Date(announcement.createdAt).toLocaleDateString() %>
      </div>

      <div class="mb-3">
        <label for="announcementTitle" class="form-label fw-bold">Başlık</label>
        <input
          type="text"
          class="form-control"
          id="announcementTitle"
          name="title"
          value="<%= announcement.title %>"
          required
        />
      </div>

      <div class="mb-3">
        <label for="announcementContent" class="form-label fw-bold"
          >İçerik</label
        >
        <textarea
          class="form-control"
          id="announcementContent"
          name="content"
          rows="5"
          required
        >
<%= announcement.content %></textarea
        >
      </div>

      <div class="form-check mb-4">
        <input
          class="form-check-input"
          type="checkbox"
          id="isPublished"
          name="isPublished"
          <%
          if
          (announcement.isPublished)
          {
          %>
        />checked<% } %> >
        <label class="form-check-label fw-bold" for="isPublished">
          Hemen Yayınla (Ana sayfada görünür)
        </label>
      </div>

      <div class="d-flex justify-content-between">
        <a href="/admin/announcements" class="btn btn-secondary">
          <i class="fas fa-arrow-left me-1"></i> Geri Dön
        </a>
        <button type="submit" class="btn btn-primary btn-lg">
          <i class="fas fa-save me-1"></i> Değişiklikleri Kaydet
        </button>
      </div>
    </form>
  </div>
</div>
